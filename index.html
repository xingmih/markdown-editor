<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown在线编辑器</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/github.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- 引入mermaid.js用于流程图支持 -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.2.4/dist/mermaid.min.js"></script>
</head>
<body>
    <!-- 顶部导航栏 -->
    <nav class="navbar">
        <div class="navbar-title">
            <i class="fas fa-markdown"></i>
            <h1>Markdown在线编辑器</h1>
        </div>
        <div class="navbar-actions">
            <div class="file-actions">
                <button id="new-file" title="新建文件 (Ctrl+N)"><i class="fas fa-file"></i> 新建</button>
                <button id="open-file" title="打开文件 (Ctrl+O)"><i class="fas fa-folder-open"></i> 打开</button>
                <button id="save-file" title="保存文件 (Ctrl+S)"><i class="fas fa-save"></i> 保存</button>
                <button id="export-html" title="导出为HTML"><i class="fas fa-file-code"></i> 导出HTML</button>
            </div>
            <div class="view-actions">
                <button id="theme-toggle" title="切换主题"><i class="fas fa-moon"></i></button>
                <button id="view-mode" title="切换视图模式"><i class="fas fa-columns"></i> 分屏</button>
            </div>
        </div>
    </nav>

    <!-- 快捷工具栏 -->
    <div class="toolbar">
        <div class="toolbar-group">
            <span class="toolbar-label">文本格式</span>
            <button class="toolbar-btn" data-command="heading" data-value="1" title="标题 1 (Ctrl+H+1)"><i class="fas fa-heading"></i> H1</button>
            <button class="toolbar-btn" data-command="heading" data-value="2" title="标题 2 (Ctrl+H+2)"><i class="fas fa-heading"></i> H2</button>
            <button class="toolbar-btn" data-command="heading" data-value="3" title="标题 3 (Ctrl+H+3)"><i class="fas fa-heading"></i> H3</button>
            <button class="toolbar-btn" data-command="bold" title="粗体 (Ctrl+B)"><i class="fas fa-bold"></i></button>
            <button class="toolbar-btn" data-command="italic" title="斜体 (Ctrl+I)"><i class="fas fa-italic"></i></button>
            <button class="toolbar-btn" data-command="strikethrough" title="删除线"><i class="fas fa-strikethrough"></i></button>
        </div>

        <div class="toolbar-group">
            <span class="toolbar-label">列表</span>
            <button class="toolbar-btn" data-command="ul" title="无序列表 (Ctrl+U)"><i class="fas fa-list-ul"></i></button>
            <button class="toolbar-btn" data-command="ol" title="有序列表 (Ctrl+O)"><i class="fas fa-list-ol"></i></button>
            <button class="toolbar-btn" data-command="task" title="任务列表"><i class="fas fa-check-square"></i></button>
        </div>

        <div class="toolbar-group">
            <span class="toolbar-label">区块</span>
            <button class="toolbar-btn" data-command="quote" title="引用 (Ctrl+Q)"><i class="fas fa-quote-right"></i></button>
            <button class="toolbar-btn" data-command="code" title="代码块 (Ctrl+K)"><i class="fas fa-code"></i></button>
            <button class="toolbar-btn" data-command="hr" title="分割线"><i class="fas fa-minus"></i></button>
        </div>

        <div class="toolbar-group">
            <span class="toolbar-label">链接与媒体</span>
            <button class="toolbar-btn" data-command="link" title="链接 (Ctrl+L)"><i class="fas fa-link"></i></button>
            <button class="toolbar-btn" data-command="image" title="图片 (Ctrl+P)"><i class="fas fa-image"></i></button>
            <button class="toolbar-btn" data-command="table" title="表格"><i class="fas fa-table"></i></button>
        </div>

        <div class="toolbar-group">
            <span class="toolbar-label">图表</span>
            <button class="toolbar-btn" data-command="flowchart" title="流程图"><i class="fas fa-project-diagram"></i> 流程图</button>
            <button class="toolbar-btn" data-command="sequence" title="时序图"><i class="fas fa-exchange-alt"></i> 时序图</button>
        </div>
    </div>

    <!-- 主编辑区 -->
    <div class="editor-container view-mode-split" id="editor-container">
        <div class="editor-panel">
            <textarea id="markdown-input" placeholder="在此输入Markdown内容..."></textarea>
        </div>
        <div class="resizer" id="resizer"></div>
        <div class="preview-panel">
            <div id="markdown-preview" class="markdown-body"></div>
        </div>
    </div>

    <!-- 底部状态栏 -->
    <div class="statusbar">
        <div class="status-item" id="word-count">字数: 0</div>
        <div class="status-item" id="cursor-position">行: 1, 列: 1</div>
        <div class="status-item" id="preview-mode">模式: 分屏</div>
        <div class="status-item" id="last-saved">上次保存: 未保存</div>
    </div>

    <!-- 文件输入元素 -->
    <input type="file" id="file-input" accept=".md">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/4.0.12/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
    